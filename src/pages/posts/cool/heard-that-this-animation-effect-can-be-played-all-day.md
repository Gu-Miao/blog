---
layout: '@/layouts/Post.astro'
title: ğŸ¤”å¬è¯´è¿™ä¸ªåŠ¨æ•ˆå¯ä»¥ç©ä¸€å¤©ï¼Ÿ
abstract: é—²æ¥æ— äº‹å·¦æ‰‹å†°æ£å³æ‰‹æŠ–éŸ³æ¶ˆç£¨æ—¶é—´ï¼Œçªç„¶ä¸€æ¡å†…å®¹æ–‡æ¡ˆä¸ºè¿™ä¸ªä¸æ»‘çš„UIäº¤äº’æˆ‘èƒ½ç©ä¸€å¤©çš„ä¸€ä¸ªå‰ç«¯åŠ¨æ•ˆæ˜ å…¥çœ¼å¸˜ã€‚å—¯ï¼Ÿä»€ä¹ˆäº¤äº’åŠ¨æ•ˆèƒ½ç©ä¸€å¤©ï¼Œè®©æˆ‘ç§ç§...å—·~è¿™ä¸å°±é‚£å•¥å˜›ï¼Œå…ˆå¦‚æ­¤å¦‚æ­¤......å†è¿™èˆ¬è¿™èˆ¬......ä¸å°±è¡Œäº†ï¼Ÿ
author:
  name: Urias
  link: https://juejin.cn/user/2410576811924808
image: /images/heard-that-this-animation-effect-can-be-played-all-day/banner.webp
createdAt: '2022-08-10 15:56'
updatedAt: '2022-08-16 11:29'
category: èŠ±é‡Œèƒ¡å“¨
tags:
  - èŠ±é‡Œèƒ¡å“¨
  - CSS
  - åŠ¨ç”»
  - è½¬è½½
reprint:
  description: æ˜é‡‘
  link: https://juejin.cn/post/7129788202335862791
---

> å²åè¿‡åŠä¼‘æƒ†æ€…ï¼Œä¸”å¯¹è¥¿é£è´ºç«‹ç§‹ã€‚ â€”â€”èŒƒæˆå¤§Â·ç«‹ç§‹äºŒç»

æ­å·çš„å¤©å„¿æ˜¯æ€ä¹ˆä¸ªäº‹å„¿å•Šè¿™äº›å¤©ï¼Œçƒ­äº†ä¸€ä¸ªå¤å¤©ä¹Ÿå°±ç®—äº†ï¼Œä¸Šå‘¨å¤©ç§‹éƒ½ç«‹äº†ï¼Œé›¨ä¹Ÿä¸‹äº†ï¼Œè€è¯è¯´çš„éƒ½æ˜¯ç§‹é«˜æ°”çˆ½ï¼Œæ€ä¹ˆæ¸©åº¦è¿˜ä¸Šå»äº†å‘¢ï¼ï¼

ğŸ¥µ çœ‹çœ‹è¿‘æ—¥æ¸©åº¦

![æ¸©åº¦||300x394](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/66e6665c170945c0945e254bd69623dc~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?)

è¿™ç§å¤©æ°”çš„å‘¨æœ«ï¼Œåœ¨ä¸‹ä¹Ÿåªèƒ½èººåœ¨åºŠä¸Šå¹ç€ç©ºè°ƒï¼Œç„¶åèµå¹ä¸€ä¸‹å¤–å–å°å“¥çš„è‰°è¾›ï¼Œé¡ºä¾¿ç…§é¡¾ä¸€ä¸‹ä»–ä»¬çš„ç”Ÿæ„äº†ã€‚

......

é—²æ¥æ— äº‹å·¦æ‰‹å†°æ£å³æ‰‹æŠ–éŸ³æ¶ˆç£¨æ—¶é—´ï¼Œçªç„¶ä¸€æ¡å†…å®¹æ–‡æ¡ˆä¸º `è¿™ä¸ªä¸æ»‘çš„UIäº¤äº’æˆ‘èƒ½ç©ä¸€å¤©` çš„ä¸€ä¸ªå‰ç«¯åŠ¨æ•ˆæ˜ å…¥çœ¼å¸˜ã€‚

å—¯ï¼Ÿä»€ä¹ˆäº¤äº’åŠ¨æ•ˆèƒ½ç©ä¸€å¤©ï¼Œè®©æˆ‘ç§ç§ ğŸ‘€ï¼š

![åŠ¨æ•ˆ||560x622](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/05bbd49805884ac0ac1389c589dca7e7~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?)

å—·~è¿™ä¸å°±é‚£å•¥å˜›ï¼Œå…ˆå¦‚æ­¤å¦‚æ­¤......å†è¿™èˆ¬è¿™èˆ¬......ä¸å°±è¡Œäº†ï¼Ÿ

ä¹ æƒ¯æ€§çš„ç‚¹å¼€è¯„è®ºåŒºï¼Œæœç„¶ï¼Œå¤§å®¶éƒ½éå¸¸çš„çƒ­æƒ…å‘¢ï¼Œä¸»åŠ¨ç»™è®¾è®¡è€…æ–™ç†åäº‹......

![è¯„è®º](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cb3446205e2647778af931cfdd619c9f~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?)

è¿™æ ·ä¸€ä¸ªä¸æ»‘çš„äº¤äº’èƒ½ä¸èƒ½ç©ä¸€å¤©ï¼Œåœ¨ä¸‹ä¸çŸ¥é“ã€‚

ä½†æ˜¯ï¼ŒæŠŠä»–å†™å‡ºæ¥ï¼Œåœ¨ä¸‹èƒ½å†™ä¸€å¤©ï¼Œè€Œè¿™ï¼Œå°±å«åš**å·¥ä½œé‡**ï¼Œè€Œåœ¨ä¸‹æœ€å–œæ¬¢çš„å°±æ˜¯**å¢åŠ (å‡‘)å·¥ä½œé‡**ğŸ¤«ã€‚

## ä¸‡äº‹å¼€å¤´éš¾

è¿™ä¸€ä¸ªåŠ¨æ•ˆä¹ä¸€çœ‹å¥½åƒå…¶å®å¹¶æ²¡æœ‰è§‰å¾—å¾ˆå¤æ‚ï¼Œä½†æ˜¯å¦‚æœå¾€ç»†äº†çœ‹ï¼ˆå¤šç»†ï¼Ÿï¼‰

......

å¥½åƒå…¶å®ä¹Ÿæ²¡æœ‰å¾ˆå¤æ‚ã€‚

å…ˆèŠèŠ**æ€è·¯**ï¼šï¼ˆ_ä»…ä¾›å‚è€ƒï¼Œæ€»æ‰€å‘¨çŸ¥ï¼Œé»‘çŒ«ç™½çŒ«éƒ½æ˜¯å¥½çŒ«ï¼Œèƒ½å®ç°å°±è¡Œï¼Œä¸æ‹˜æ³¥ä¸åœ¨ä¸‹è¿™ä¸€ç§æ–¹æ³•_ï¼‰

1. é¦–å…ˆçœ‹**é™æ€**çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªåŠ¨æ•ˆæ‹†æˆ `å®¹å™¨`ï¼Œ`æŒ‰é’®` å’Œ `æ»‘å—` ä¸‰ä¸ªéƒ¨åˆ†ï¼ŒåŒ…å«å„ç±»æ ·å¼ï¼›
2. **å®¹å™¨**åœ¨è¢«ç‚¹å‡»æ—¶éœ€è¦æ·»åŠ  `cssé€è§†` å’Œä¸€å®šå¹…åº¦çš„ `Yè½´æ—‹è½¬`ï¼Œæ„é€ æˆè¢«ç‚¹å‡»ä¸‹é™·çš„æ„Ÿè§‰ï¼Œä»”ç»†è§‚å¯Ÿå‘ç°ä¸åŒæŒ‰é’®ç‚¹å‡»åä¸¤ä¾§å®¹å™¨æ—‹è½¬çš„åç§»é‡è¿˜ä¸å°½ç›¸åŒï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦åŠ¨æ€ä¿®æ”¹ä»–çš„ `åŸç‚¹`ï¼›
3. **æŒ‰é’®**åˆ™æ˜¯åŒ…å«ç›¸å…³å†…å®¹çš„ä¸€ä¸ªç›’å­ï¼Œæœ‰é€‰ä¸­å’Œæœªé€‰ä¸­çš„ä¸¤ç§ä¸åŒçŠ¶æ€ï¼Œå†ä»”ç»†ç‚¹å‘¢ï¼Œç›’å­å†…çš„å†…å®¹åœ¨åˆ‡æ¢çŠ¶æ€æ—¶è¿˜æœ‰ä¸€å®šé‡çš„ç¼©æ”¾ `scale`ï¼Œç¼©æ”¾è¯¦ç»†ä¸ºï¼š

   - è¢«é€‰ä¸­æ—¶ï¼Œå…ˆç¨å¾®å¤šæ”¾å¤§ä¸€äº›ï¼Œå†ç¼©å°ä¸ºé€‰ä¸­çš„æ”¾å¤§çŠ¶æ€ä¿æŒï¼›
   - æœªé€‰ä¸­æ—¶ï¼Œå…ˆç¨å¾®å¤šç¼©å°ä¸€äº›ï¼Œå†æ”¾å¤§ä¸ºæœªé€‰ä¸­çš„æ­£å¸¸çŠ¶æ€ä¿æŒï¼›

4. **æ»‘å—**å°±æ¯”è¾ƒç®€å•äº†ï¼Œå•çº¯çš„é™æ€æ ·å¼åŠ ä¸Šç‚¹ä»¥åæ»‘åŠ¨åˆ°å¯¹åº”æŒ‰é’®ä¸‹æ–¹ï¼Œç¨å¾®éº»çƒ¦ä¸€ç‚¹å°±æ˜¯è¿™ä¸ªç‚¹å‡»åçš„è¿‡æ¸¡æ•ˆæœï¼ˆæ»‘åŠ¨ï¼‰éœ€è¦èµ·å§‹å’Œç»“å°¾ç¨æ…¢ï¼Œä¸­é—´è¾ƒå¿«çš„é€Ÿåº¦ï¼Œå¯èƒ½éœ€è¦ç”¨è´å¡å°”å‡½æ•°æ¥å®ç°ï¼Œå¯¹äº `cssè´å¡å°”å‡½æ•°` å·²ç»é—å¿˜çš„åŒå­¦å¯ä»¥å†å»æ¸©ä¹ ä¸€éã€‚ğŸ‘‰[cubic-bezier](https://developer.mozilla.org/en-US/docs/Web/CSS/transition-timing-function#cubic-bezier_examples)ğŸ‘ˆ

å¤šè¯´æ— ç›Šï¼Œåœ¨ä¸‹å…ˆå¹²ä¸ºæ•¬ï¼

## é™æ€é¡µé¢

é¦–å…ˆå½“ç„¶æ˜¯æˆ‘ä»¬çš„é™æ€é¡µé¢äº†ï¼ŒåŠ¨æ•ˆå†æ€ä¹ˆåŠ¨ï¼Œä¹Ÿå¾—å…ˆæœ‰èƒ½åŠ¨çš„ç©æ„å„¿æ˜¯æ³¢ã€‚

### å®¹å™¨

å’±ä»¬å…ˆéšä¾¿ç‚¹ï¼Œå…ˆç”»ä¸ªå®¹å™¨ï¼Œèµ·ä¸ªåå„¿å°±å« `btnWrapper` å§ï¼Œå› ä¸ºæ»‘å—ç”¨ç»å¯¹å®šä½ï¼Œæ‰€ä»¥å®¹å™¨å¾—å…ˆç›¸å¯¹å®šä½ï¼ŒåŒæ—¶ç»™å®šå®½é«˜ï¼š

```html
<div id="btnWrapper"></div>
```

```css
#btnWrapper {
  position: relative;
  width: 380px;
  height: 80px;
  padding: 12px 16px;
  border-radius: 12px;
  overflow: hidden;
  background-color: #e2e6eb;
  box-shadow: -10px -10px 15px #f5f9fd, 10px 10px 15px #d8dbe5; /* é˜´å½±ï¼ˆé˜´å½±å¯ä»¥æ·»åŠ å¤šæ¡ï¼Œåˆ«å‘Šè¯‰æˆ‘ä½ ä¸çŸ¥é“ï¼ï¼ï¼‰ */
}
```

å°±è¿™æ ·ä¸€ä¸ªç®€å•çš„å®¹å™¨ç›’å­å°±ç”»å¥½äº†ï¼ˆåˆ«é—®æˆ‘æ²¡æœ‰è®¾è®¡å›¾é¢œè‰²å’Œå°ºå¯¸éƒ½æ˜¯æ€ä¹ˆæ¥çš„ï¼Œæˆªå›¾+å–è‰²å¸çš„ ğŸ™„ï¼‰

![å®¹å™¨](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c03e1a1ffd6d450296806657326f78b2~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?)

### æ»‘å—

ç„¶åå°±æ˜¯æ»‘å—ï¼Œå› ä¸ºæ»‘å—å¹¶æ²¡æœ‰å¤æ‚çš„é€»è¾‘ï¼Œä¹Ÿä¸éœ€è¦å­˜æ”¾ä¸€äº›å…¶ä»–å…ƒç´ ï¼Œæ‰€ä»¥åœ¨ä¸‹é€‰æ‹©çš„æ˜¯ç”¨ `ä¼ªå…ƒç´ ` æ¥å®ç°ï¼Œè¿™å°±æ²¡æœ‰ç»“æ„ï¼ˆhtmlï¼‰ä»£ç äº†ã€‚

å°ºå¯¸**å›¾è§£**ï¼š

![å°ºå¯¸å›¾è§£](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/399bae1d2e61436c84d96e038747a082~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?)

ç›´æ¥**ä¸Šæ‰è‰º**~

```css
#btnWrapper::before {
  content: '';
  position: absolute;
  left: 16px; /* è¦è€ƒè™‘åˆ°çˆ¶ç›’å­çš„å†…è¾¹è· */
  top: 12px;
  width: calc(50% - 16px - 8px);
  height: calc(100% - 24px);
  border-radius: 12px;
  box-shadow: inset 8px 8px 6px #d9dce6, inset -5px -5px 15px #f5f9fd, inset -5px -5px 15px #f5f9fd,
    inset 7px 7px 6px #d9dce6;
}
```

emmm....å¸è‰²å¥½åƒä¸å¤ªé è°±ï¼Ÿå‹‰å‹‰å¼ºå¼ºå§ ğŸ™„

![å®¹å™¨+æ»‘å—](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6b67f3764e5146d5b265d547c5b9ad21~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?)

### æŒ‰é’®

æŒ‰é’®å‘¢å› ä¸ºä»–æœ¬èº«æ²¡æœ‰è½®å»“æ ·å¼ï¼Œæ‰€ä»¥æˆ‘æ˜¯ç›´æ¥æŠŠå®ƒç†è§£ä¸º**å‡åˆ†äº†å®¹å™¨çš„ä¸¤ä¸ªé€æ˜ç›’å­**ï¼Œç„¶åå†…éƒ¨å…ƒç´ ä¸ç¡®å®šï¼Œç”¨**å¼¹æ€§å¸ƒå±€**è®©æŒ‰é’®çš„å­å…ƒç´ éƒ½å±…ä¸­å°±è¡Œã€‚

ä½†æ˜¯å› ä¸ºæŒ‰é’®è¦è·Ÿæ»‘å—é‡å ï¼Œå¹¶ä¸”å±…äºæ»‘å—ä¹‹ä¸Šï¼Œæ‰€ä»¥æŒ‰é’®ä¹Ÿéœ€è¦**æµ®åŠ¨**èµ·æ¥ï¼Œæ¯ä¸ªéƒ½å  50%å®½åº¦ï¼Œè¿™é‡Œåœ¨ä¸‹é€‰æ‹©è®©ä»–ä¿©éƒ½`float: left;`ï¼Œå¦‚æœè¿˜æƒ³ç»§ç»­ä½¿ç”¨ç»å¯¹å®šä½ä¹Ÿæ˜¯å¯ä»¥å®ç°çš„ï¼Œé…ç½®ä¸åŒ`left`å³å¯ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ã€‚

åŒæ—¶æŒ‰é’®è¿˜æœ‰é€‰ä¸­çŠ¶æ€ï¼Œ

```html
<div id="btnWrapper">
  <div class="btn active">æŒ‰é’®1</div>
  <div class="btn">æŒ‰é’®2</div>
</div>
```

```css
.btn {
  float: left;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 50%;
  height: 100%;
  padding: inherit; /* å·æ‡’å†…è¾¹è·ç»§æ‰¿äº†çˆ¶å…ƒç´ ï¼Œä¹Ÿå¯ä»¥è‡ªå·±ä¿®æ”¹ */
  color: #aaa;
  cursor: pointer;
}
.active {
  color: #111;
}
```

æœ€ç»ˆçš„æˆå“å°±æ˜¯

![é™æ€å†…å®¹](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6eba6b244706444ebf837f3669fbd16c~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?)

å˜¿ä½ åˆ«è¯´ï¼Œè¿˜æŒºæœ‰æ¨¡æœ‰æ ·å‘¢ï¼Ÿå¦‚æœæƒ³å†ç»™æŒ‰é’®é‡Œæ·»åŠ ç±»ä¼¼æŠ–éŸ³é‡Œé‚£ä¸ªå›¾ç‰‡ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œåœ¨ä¸‹å°±ä¸å†™äº†å“ˆã€‚

## æ»‘å—åŠ¨æ•ˆ

é™æ€é¡µé¢å€’æ˜¯å†™å®Œäº†ï¼Œä½†è¿™å¹¶ä¸æ˜¯åœ¨ä¸‹çš„ç›®æ ‡ï¼Œåœ¨ä¸‹çš„ç›®æ ‡æ˜¯å¸Œæœ›å®ƒåŠ¨èµ·æ¥ï¼Œå¦‚æ ‡é¢˜ä¸€æ ·**ç©ä¸€æ•´å¤©çš„ä¸æ»‘**ğŸ˜¤ğŸ˜¤ã€‚

è€Œæ•ˆæœå›¾ä¸­åœ¨ä¸‹ä¸€çœ¼çœ‹è§åŠ¨å¹…æœ€å¤§çš„å°±æ˜¯è¿™ä¸ªæ»‘å—äº†ï¼Œæ‰€ä»¥å†³å®šå…ˆè®©æ»‘å—åŠ¨èµ·æ¥ï¼Œå…¶å®è®©æ»‘å—åŠ¨èµ·æ¥éå¸¸ç®€å•ï¼Œä¿®æ”¹æ»‘å—çš„ `left` å€¼å³å¯ï¼Œå†æ·»åŠ è¿‡æ¸¡æ•ˆæœè®©æ»‘å—æ›´åŠ **ä¸æ»‘**~

è¿™é‡ŒåŠ¨æ€ä¿®æ”¹æ ·å¼ï¼Œæˆ‘é€‰æ‹©ä½¿ç”¨ `csså˜é‡`ï¼Œé€šè¿‡ `js` ç»™å®¹å™¨æ·»åŠ å’Œä¿®æ”¹ `csså˜é‡` æ¥è¾¾åˆ°åŠ¨æ€ä¿®æ”¹æ ·å¼çš„æ•ˆæœã€‚

ğŸ \*\*æ¥å§ï¼Œå±•ç¤ºï¼\*\*ğŸ 

```css
#btnWrapper::before {
  content: '';
  /*  ...å…¶ä»–å±æ€§ */
  left: var(--groove-left);
  /*  ...å…¶ä»–å±æ€§ */
  transition: left 1s cubic-bezier(0.82, 0.12, 0.18, 0.88); /* è¿‡æ¸¡æ•ˆæœ */
}
```

```js
// è·å–å®¹å™¨å…ƒç´ 
let wrapper = document.getElementById('btnWrapper')
// å…ˆç»™å®¹å™¨è®¾ç½®ä¸€ä¸ª css å˜é‡å¹¶é™„åˆå§‹å€¼
wrapper.style.setProperty('--groove-left', '12px')
// è·å–æŒ‰é’®å…ƒç´ 
let btns = document.getElementsByClassName('btn')
for (let i = 0; i < btns.length; i++) {
  // ç»™æ¯ä¸ªæŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶
  btns[i].addEventListener('click', function (e) {
    // ç‚¹å‡»åï¼Œä¿®æ”¹ css å˜é‡çš„å€¼
    wrapper.style.setProperty('--groove-left', `calc(12px + ${i * 50}%)`)
  })
}
```

> æ”¾å¿ƒï¼Œç»è¿‡åœ¨ä¸‹ä¸¥ï¼ˆéšï¼‰å¯†ï¼ˆä¾¿ï¼‰è®¡ç®—ï¼Œé‚£ä¸ªè´å¡å°”æ›²çº¿åº”è¯¥å·®ä¸å¤ªå¤šï¼Œå¦‚æœ‰åå·®è¿˜è¯·è‡ªè¡Œè°ƒæ•´ï¼Œç•™è¨€ç»™åœ¨ä¸‹ï¼Œæ¯•ç«Ÿå’±æ²¡æœ‰çœŸå®è®¾è®¡å›¾...

è¿™æ ·ç‚¹å‡»åï¼Œæ»‘å—å°±ä¼šè‡ªå·±æ»‘æ¥æ»‘å»å•¦ï¼

![æ»‘å—](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f632954eb7e74cbaa832f2acdd3fae5b~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?)

## æŒ‰é’®åŠ¨æ•ˆ

ğŸ‘€ é‚£ï¼Œæ»‘å—éƒ½è‡ªå·±åŠ¨èµ·æ¥äº†ï¼Œä½ æŒ‰é’®ä¸å¾—è‡ªå·±åŠ¨ï¼Ÿ

ğŸ‘€ è‡ªå·±åŠ¨ï¼Ÿ

ğŸ‘€ åŠ¨ï¼Ÿ

æ‡‚äº†ï¼ç›´æ¥åœ¨ç‚¹å‡»é‡Œä¿®æ”¹æ¯ä¸ªæŒ‰é’®çš„ç±»åä¸å°±è¡Œäº†ï¼Ÿ

æ²¡é”™ï¼Œä½†æ˜¯å¦‚å‰é¢[ä¸‡äº‹å¼€å¤´éš¾](#ä¸‡äº‹å¼€å¤´éš¾)åœ¨ä¸‹æåˆ°çš„ï¼ŒæŒ‰é’®ä¸å•çº¯åªæ˜¯æ”¹å˜äº†é¢œè‰²ï¼Œè¿˜æ”¹å˜äº†å­—ä½“çš„ç¼©æ”¾å¤§å°ï¼Œå¹¶ä¸”é€‰ä¸­éé€‰ä¸­çŠ¶æ€éƒ½æœ‰ä¸€ä¸ªç¼©æ”¾çš„**æŠ–åŠ¨**ã€‚

æ‰€ä»¥åœ¨ä¸‹å†³å®šï¼Œå†™ä¸¤ä¸ªåŠ¨ç”»ï¼ˆ**å…·ä½“å¯ä»¥æ ¹æ®è‡ªå·±çš„æ„Ÿè§‰ä¿®æ”¹ï¼Œåªæ˜¯åœ¨ä¸‹çš„æ„Ÿè§‰å°±åˆ°è¿™äº†**ï¼‰ã€‚

**talk is cheapï¼Œshow me the codeï¼**ï¼ˆåœ¨ä¸‹æƒ³èµ·æ¥äº†ï¼ï¼‰

```html
<div id="btnWrapper">
  <div class="btn active">æŒ‰é’®1</div>
  <div class="btn">æŒ‰é’®2</div>
</div>
```

```css
/*  æŒ‰é’®é€‰ä¸­ç¼©æ”¾åŠ¨ç”» */
@keyframes txtEnterScale {
  0% {
    transform: scale(1);
  }

  80% {
    transform: scale(1.15);
  }

  100% {
    transform: scale(1.1);
  }
}
/*  æŒ‰é’®æœªé€‰ä¸­ç¼©æ”¾åŠ¨ç”» */
@keyframes txtOutScale {
  0% {
    transform: scale(1.1);
  }

  80% {
    transform: scale(0.95);
  }

  100% {
    transform: scale(1);
  }
}
.btn {
  /*  ...å…¶ä»–å±æ€§ */
  transition: color 0.4s linear; /* æ·»åŠ æ–‡å­—é¢œè‰²è¿‡æ¸¡æ•ˆæœ */
  animation: txtOutScale 0.6s linear; /* æ·»åŠ æŒ‰é’®æœªé€‰ä¸­åŠ¨ç”»ï¼Œæ³¨æ„æ—¶é—´ */
  /*  ...å…¶ä»–å±æ€§ */
}
.active {
  color: #111;
  transform: scale(1.1); /* ä¿®æ”¹é€‰ä¸­çŠ¶æ€åŸå§‹ç¼©æ”¾ä¸º 1.1 */
  animation: txtEnterScale 0.4s linear; /* æ·»åŠ æŒ‰é’®é€‰ä¸­åŠ¨ç”»ï¼Œæ³¨æ„æ—¶é—´ */
}
```

```js
let wrapper = document.getElementById('btnWrapper')
wrapper.style.setProperty('--groove-left', '12px')
let btns = document.getElementsByClassName('btn')
for (let i = 0; i < btns.length; i++) {
  btns[i].addEventListener('click', function (e) {
    wrapper.style.setProperty('--groove-left', `calc(12px + ${i * 50}%)`)
    resetBtn(btns) // åˆå§‹åŒ–æ‰€æœ‰æŒ‰é’®ç±»å
    setTimeout(() => {
      btns[i].className = 'btn active' // ç»™è¢«ç‚¹å‡»çš„æŒ‰é’®æ·»åŠ é€‰ä¸­æ ·å¼ï¼Œæ³¨æ„ä¸è¦ä¸¢äº†åŸå§‹æ ·å¼
    }, 500)
  })
}
// åˆå§‹åŒ–æ‰€æœ‰æŒ‰é’®ç±»åçš„æ–¹æ³•
function resetBtn(btns) {
  for (let i = 0; i < btns.length; i++) {
    setTimeout(() => {
      btns[i].className = 'btn'
    }, 100)
  }
}
```

> å…ˆåˆ«åˆ’èµ°ï¼ï¼ï¼è¿™é‡Œè®²ä¸€ä¸‹ä¸ºä»€ä¹ˆéœ€è¦æ³¨æ„æ—¶é—´ï¼Œå› ä¸ºåœ¨ä¸‹æ³¨æ„åˆ°ï¼Œå¹¶ä¸æ˜¯ä¸€ç»ç‚¹å‡»æŒ‰é’®çš„åŠ¨ç”»å°±å¼€å§‹äº†ï¼Œé€‰ä¸­çŠ¶æ€çš„ç±»åï¼Œæ˜¯åœ¨æ»‘å—å‡ ä¹å®Œå…¨æ»‘åˆ°å¯¹åº”æŒ‰é’®èƒŒåï¼ŒæŒ‰é’®çš„ç¼©æ”¾çŠ¶æ€å’Œé¢œè‰²æ‰å¼€å§‹å˜åŒ–ï¼ŒåŒç†æœªé€‰ä¸­çŠ¶æ€ä¹Ÿç±»ä¼¼ï¼Œåªæ˜¯æ—¶é—´ç¨å¾®ææ—©ã€‚
>
> å“¼å“¼ï¼Œä¸€ä¸ªå°ç»†èŠ‚ ğŸ§ğŸ§ã€‚
>
> æ‰€ä»¥åœ¨ä¸‹çš„å¤„ç†æ–¹å¼æ˜¯åœ¨ç‚¹å‡»åç»™æ·»åŠ ç±»åçš„ä»£ç æ·»åŠ ä¸€ä¸ªå®šæ—¶å™¨ï¼Œæœ‰æ— æ›´å¥½çš„æ–¹æ³•éº»çƒ¦å‘ŠçŸ¥åœ¨ä¸‹ã€‚

æ–‡å­—çš„ç¼©æ”¾å’Œåœ¨ä¸‹çš„å°ç»†èŠ‚ï¼Œèƒ½çœ‹å‡ºæ¥å—ï¼Ÿ

![æŒ‰é’®.gif](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8814d89ca6134a95929f08aa25478e1b~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?)

## å®¹å™¨åŠ¨æ•ˆ

åˆå‡‘äº†è¿™ä¹ˆå¤šå­—äº† ğŸ¤ªï¼Œå·¥ä½œé‡å˜å˜ä¸Šå»äº†......

å“å“å“å®¢å®˜åˆ«ç€æ€¥èµ°å“‡ï¼Œå’±è¿™è¿˜æœ‰ä¸ªæœ€å¤§çš„å®¹å™¨è¿˜æ²¡åŠ¨èµ·æ¥å‘¢ï¼Œé”™äº†é”™äº†ï¼Œåœ¨ä¸‹ç›´æ¥æ¥ã€‚

### æ•´ä½“å®¹å™¨

é¡ºç€åœ¨ä¸‹å‰é¢çš„æ€è·¯ï¼Œé¦–å…ˆå…ˆç»™ä»–æ·»åŠ ä¸Š `cssé€è§†` å’Œ `Yè½´æ—‹è½¬`ï¼Œç„¶åå’±ä»¬å…ˆçœ‹çœ‹æ•ˆæœå¦‚ä½•ï¼Œä¸ºäº†åšå‡ºè¿‘å¤§è¿œå°çš„è§†è§‰æ•ˆæœï¼Œå’±ä»¬é¦–å…ˆè¦ç»™å®¹å™¨çš„**çˆ¶å…ƒç´ **æ·»åŠ é€è§†ç‚¹ï¼Œä¸ºäº†ä¸è€½æå®¢å®˜è€çˆ·ä»¬çš„æ—¶é—´ï¼Œä¸æ‡‚æ¦‚å¿µçš„åŒå­¦å°±åŠ³çƒ¦ç™¾åº¦ä¸€ä¸‹æˆ–è€…ç›´æ¥ä¼ é€é—¨å…ˆäº†è§£ä¸€ç•ªã€‚ğŸ‘‰[perspective](https://developer.mozilla.org/zh-CN/docs/Web/CSS/perspective)ğŸ‘ˆ

```css
body {
  perspective: 500px; /* æ·»åŠ é€è§† */
}

#btnWrapper {
  /*  ...å…¶ä»–å±æ€§ */
  transform-origin: center; /* æ·»åŠ è½¬æ¢åŸç‚¹ */
  transition: transform 0.4s cubic-bezier(0, 0, 0.48, 1); /* æ·»åŠ è¿‡æ¸¡æ•ˆæœ */
}

.rotateWrap {
  transform: rotateY(var(--wraper-rotate)); /* æ·»åŠ  Y è½´æ—‹è½¬ */
}
```

```js
let wrapper = document.getElementById('btnWrapper')
// ...å…¶ä»–ä»£ç 
let btns = document.getElementsByClassName('btn')
for (let i = 0; i < btns.length; i++) {
  btns[i].addEventListener('click', function (e) {
    // ...å…¶ä»–ä»£ç 
    wrapper.style.setProperty('--wraper-rotate', `${i === 0 ? -8 : 8}deg`)
    wrapper.className = 'rotateWrap'
    setTimeout(() => {
      wrapper.className = ''
    }, 550) // æ³¨æ„å°ç»†èŠ‚ï¼ï¼ï¼
  })
}
// ...å…¶ä»–ä»£ç 
```

> åŒæ ·ï¼Œè¿™ä¸ªè¢«ç‚¹å‡»åçš„åŠ¨æ•ˆä¹Ÿæœ‰äº¿ç‚¹ç‚¹å°ç»†èŠ‚ï¼Œå°±æ˜¯è¿™ä¸ªæ—¶é—´ï¼Œåœ¨ä¸‹ä¸ä¾¿å¤šè¯´
>
> å¯„å‡ é›¶äº”å…«ï¼Œéªšå¹´ï¼

![å®¹å™¨.gif](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9cc26bed56904bd99c39d578df2c51e5~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?)

## äº¿ç‚¹ç»†èŠ‚

çœ‹äº†**ç›®å‰æˆå“å›¾**ï¼Œæ˜¯ä¸æ˜¯æ„Ÿè§‰è·Ÿä¸Šé¢é‚£ä¸ª**ç©ä¸€å¤©ä¸æ»‘**çš„æŒ‰é’®å¤§å·®ä¸å·®ï¼Œä½†æ˜¯æ€»æ„Ÿè§‰å“ªé‡Œæœ‰ç‚¹ä¸ä¸€æ ·å‘¢ï¼Ÿ

æ²¡é”™ï¼Œåœ¨ä¸‹ä¹Ÿçœ‹å‡ºæ¥ï¼Œæ„Ÿè§‰äººå®¶é‚£ä¸ªéå¸¸çš„çµæ´»ï¼Œè€Œåœ¨ä¸‹è¿™ä¸ªå°±åƒè¢«é’‰ä½äº†ä¸€æ ·ã€‚

æ²¡æˆ³ï¼ï¼å°±æ˜¯è¿™ä¸ª `Yè½´æ—‹è½¬` é‡çš„é—®é¢˜ï¼Œåœ¨ä¸‹å‰é¢ä¹Ÿæåˆ°äº†ï¼Œè§£å†³æ–¹æ³•å°±æ˜¯éœ€è¦åŠ¨æ€ä¿®æ”¹ `cssè½¬æ¢` çš„åŸç‚¹ã€‚

> å½“ç‚¹å‡» `æŒ‰é’®1` æ—¶ï¼Œå°†åŸç‚¹è®¾ç½®ä¸º `æŒ‰é’®2` åŠä¾§çš„æŸä¸ªç‚¹ï¼Œåä¹‹äº¦ç„¶

**å—¦å¹²é…’å¹²**ï¼Œè¿™é‡Œåœ¨ä¸‹ç”¨åˆ°çš„è¿˜æ˜¯ `csså˜é‡` çš„æ–¹æ³•

```css
#btnWrapper {
  /*  ...å…¶ä»–å±æ€§ */
  /*  transform-origin: center; */
  transform-origin: var(--wraper-origin); /* ä¿®æ”¹ä¸ºåŠ¨æ€ä½¿ç”¨ css å˜é‡ */
  transition: transform 0.4s cubic-bezier(0, 0, 0.48, 1);
}
```

```js
let wrapper = document.getElementById('btnWrapper')
// ...å…¶ä»–ä»£ç 
let btns = document.getElementsByClassName('btn')
for (let i = 0; i < btns.length; i++) {
  btns[i].addEventListener('click', function (e) {
    // ...å…¶ä»–ä»£ç 
    wrapper.style.setProperty('--wraper-origin', `${i === 0 ? '80% top' : '20% top'}`) // åŠ¨æ€ä¿®æ”¹åŸç‚¹ä½ç½®
    wrapper.style.setProperty('--wraper-rotate', `${i === 0 ? -8 : 8}deg`) // æŒ‰é’® 1 ä¸º-8Â°ï¼ŒæŒ‰é’® 2 ä¸º 8Â°
    wrapper.className = 'rotateWrap' // ç‚¹å‡»æ·»åŠ ç±»å
    setTimeout(() => {
      wrapper.className = '' // æ¸…é™¤ç±»å
    }, 550) // æ³¨æ„å°ç»†èŠ‚ï¼ï¼ï¼
  })
}
// ...å…¶ä»–ä»£ç 
```

å¥½ï¼è¿™æ ·åœ¨ä¸‹é€šè¿‡è‚‰çœ¼è§‚å¯Ÿç„¶åè¿˜åŸçš„**ä¸ç©å¤©**åŠ¨æ•ˆå°±åšå¥½å•¦ï¼Œå…ˆå–½ä¸€çœ¼**æœ€ç»ˆæˆå“å›¾**ï¼š

![æœ€ç»ˆ.gif](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6038be5a78ad416e80ccf50fe9ee5992~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?)

ä»€ä¹ˆï¼Ÿä½ è¯´å¥½åƒæ²¡å•¥åŒºåˆ«ï¼ŸğŸ¤¨

ç›¸ä¿¡åœ¨ä¸‹ï¼Œä¸€å®šæœ‰åŒºåˆ«çš„ï¼Œè®°ä½ä»Šå¤©çš„å…³é”®è¯ï¼Œ**ä»”ç»† ğŸ˜‘**ã€‚

---

## æ„çŠ¹æœªå°½

æœ¬æ¥æï¼Œä»Šå¤©çš„æ°´æ–‡åˆ°è¿™å°±ç»“æŸäº†

ä½†æ˜¯ï¼Œåœ¨ä¸‹åœ¨ç©è¿™ä¸ªåŠ¨æ•ˆçš„æ—¶å€™ï¼Œæ„Ÿè§‰ä¸¤ä¸ªæŒ‰é’®å•çº¯çš„åˆ‡æ¢æ¥åˆ‡æ¢å»ï¼Œæ˜¯ä¸æ˜¯å¤ªè¿‡äºå•è°ƒäº†ï¼Ÿï¼ˆä¸»è¦æ˜¯å·¥ä½œé‡è¿˜æ²¡æ··å¤Ÿï¼‰

äºæ˜¯ï¼Œåœ¨ä¸‹å‡†å¤‡ç»™è¿™ä¸¤ä¸ªæŒ‰é’®åŠ ç‚¹åŠŸèƒ½ã€‚

ç›´æ¥å±•ç¤ºï¼Œè´´ä»£ç ï¼ˆ**æœ‰ç‚¹é•¿ï¼Œä½†æ˜¯æ˜¯å…¨éƒ¨çš„ä»£ç **ï¼‰ï¼š

```html
<div id="btnWrapper">
  <div class="btn active">å¼€ç¯</div>
  <div class="btn">å…³ç¯</div>
</div>
```

```css
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
body {
  background-color: #edf1f4;
  perspective: 500px;
  --c-wrap-shadow1: #f5f9fd;
  --c-wrap-shadow2: #d8dbe5;
  --c-wrap-bg: #e2e6eb;
  --c-btn-shadow1: #d9dbe6;
  --c-btn-shadow2: #f5f9fd;
  --c-txt1: #aaa;
  --c-txt2: #111;
  transition: background-color 0.4s linear;
}
.dark {
  background-color: #333;
  --c-wrap-shadow1: #292929;
  --c-wrap-shadow2: #202020;
  --c-wrap-bg: #505050;
  --c-btn-shadow1: #323232;
  --c-btn-shadow2: #444;
  --c-txt1: #888;
  --c-txt2: #fff;
}
#btnWrapper {
  position: relative;
  width: 380px;
  height: 80px;
  padding: 12px 16px;
  margin: 300px auto 0;
  border-radius: 12px;
  overflow: hidden;
  background-color: var(--c-wrap-bg);
  box-shadow: -10px -10px 15px var(--c-wrap-shadow1), 10px 10px 15px var(--c-wrap-shadow2);
  transform-origin: var(--wraper-origin);
  transition: transform 0.4s cubic-bezier(0, 0, 0.48, 1), box-shadow 0.4s linear,
    background-color 0.4s linear;
}
.rotateWrap {
  transform: rotateY(var(--wraper-rotate));
}
#btnWrapper::before {
  content: '';
  position: absolute;
  left: var(--groove-left);
  top: 12px;
  width: calc(50% - 16px - 8px);
  height: calc(100% - 24px);
  border-radius: 12px;
  box-shadow: inset 8px 8px 6px var(--c-btn-shadow1), inset -5px -5px 15px var(--c-btn-shadow2),
    inset -5px -5px 15px var(--c-btn-shadow2), inset 7px 7px 6px var(--c-btn-shadow1);
  transition: left 1s cubic-bezier(0.82, 0.12, 0.18, 0.88), box-shadow 0.4s linear;
}
.btn {
  float: left;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 50%;
  height: 100%;
  padding: inherit;
  color: var(--c-txt1);
  transition: color 0.4s linear;
  animation: txtOutScale 0.6s linear;
  cursor: pointer;
}
.active {
  color: var(--c-txt2);
  transform: scale(1.1);
  animation: txtEnterScale 0.4s linear;
}
@keyframes txtEnterScale {
  0% {
    transform: scale(1);
  }

  80% {
    transform: scale(1.15);
  }

  100% {
    transform: scale(1.1);
  }
}
@keyframes txtOutScale {
  0% {
    transform: scale(1.1);
  }

  80% {
    transform: scale(0.95);
  }

  100% {
    transform: scale(1);
  }
}
```

```js
let wrapper = document.getElementById('btnWrapper')
wrapper.style.setProperty('--groove-left', '12px')
let btns = document.getElementsByClassName('btn')
for (let i = 0; i < btns.length; i++) {
  btns[i].addEventListener('click', function (e) {
    ThemeChange(i === 1)
    resetBtn(btns)
    wrapper.style.setProperty('--groove-left', `calc(12px + ${i * 50}%)`)
    wrapper.style.setProperty('--wraper-origin', `${i === 0 ? '75% top' : '25% top'}`)
    wrapper.style.setProperty('--wraper-rotate', `${i === 0 ? -8 : 8}deg`)
    wrapper.className = 'rotateWrap'
    setTimeout(() => {
      btns[i].className = 'btn active'
    }, 500)
    setTimeout(() => {
      wrapper.className = ''
    }, 550)
  })
}
// é‡ç½®æŒ‰é’®ç±»å
function resetBtn(btns) {
  for (let i = 0; i < btns.length; i++) {
    setTimeout(() => {
      btns[i].className = 'btn'
    }, 100)
  }
}
// æ”¹å˜ä¸»é¢˜
function ThemeChange(bol) {
  let body = document.body
  body.className = bol ? 'dark' : ''
}
```

ğŸ‰ğŸ‰ æŠ‘æ‰¬é¡¿æŒ«ï¼Œæ¬²æ‰¬å…ˆæŠ‘ï¼Œå…ˆçœ‹æˆæœï¼Œå†è°ˆåŸç† ğŸ‰ğŸ‰ï¼š

![æœ€ç»ˆæœ€ç»ˆç‰ˆæœ¬.gif](/images/heard-that-this-animation-effect-can-be-played-all-day/1.webp)

> å…¶å®å°±æ˜¯å­—é¢æ„æ€ï¼Œæ··å·¥ä½œé‡ã€‚
>
> åˆ‡æ¢ä¸»é¢˜æ€è·¯ï¼š
>
> æŠŠéœ€è¦åˆ‡æ¢çš„é¢œè‰²éƒ½æå‡ºæ¥ç”¨ css å˜é‡ä»£æ›¿ï¼Œå¹¶æ·»åŠ ä¸Šè¿‡æ¸¡æ•ˆæœï¼ˆä¸ç„¶çœ‹èµ·æ¥å¾ˆçªå…€ï¼‰
>
> åœ¨ä¸åŒä¸»é¢˜ç±»åé‡Œä¿®æ”¹ css å˜é‡
>
> ç‚¹å‡»æŒ‰é’®ï¼Œå°†ç±»åæ·»åŠ åˆ° body ä¸Šï¼ˆæœ‰çš„ä¹Ÿæ·»åŠ åˆ° html ä¸Šï¼Œåæ­£å°±æ˜¯æ·»åŠ åˆ°ä½ ä½¿ç”¨ä¸»é¢˜çš„æœ€ä¸Šå±‚å…ƒç´ ï¼‰
>
> å› ä¸ºç»™ body æ·»åŠ äº†ç±»åæƒé‡æ›´é«˜ï¼Œæ‰€ä»¥ä¼šè¦†ç›– body ä»¥å…ƒç´ åå®šä¹‰çš„ css å˜é‡ï¼Œç»è¿‡ css è¿‡æ¸¡ä»¥åï¼Œå°±å®ç°äº†ä¸æ»‘çš„æ¢è‚¤æ•ˆæœã€‚

ä»Šå¤©æ··å·¥ä½œé‡å°±åˆ°æ­¤ä¸ºæ­¢å§ï¼Œå†æ··å°±ä¸ç¤¼è²Œäº†~

![å‘Šè¾||357x354](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6dd3ca20336e4e50ba42cc50bb1d25ab~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?)

ç§‹éƒ½ç«‹å®Œäº†ï¼ŒåŠ³çƒ¦ç§‹å¤©èµ¶ç´§åˆ°æ¥å§ï¼Œæˆ‘è¦å‡ºå»ç©ï¼ï¼ï¼

ğŸ¤¨ğŸ¤¨ğŸ¤¨ ä½ æ€ä¹ˆè¿˜åœ¨çœ‹ï¼Ÿ

## åšä¸»æ³¨

[åœ¨çº¿é¢„è§ˆåœ°å€](https://code.juejin.cn/pen/7125704360088535048)

1. æ»‘å—åŠ¨ç”»å¯ä»¥ä½¿ç”¨ `transform: translateX()` æ¥ä»£æ›¿ `left` é¿å…å›æµã€‚
2. å¯ä»¥ä½¿ç”¨ `animation-delay` ä»£æ›¿å®šæ—¶å™¨æ¥å®ç°æŒ‰é’®åŠ¨ç”»çš„å»¶è¿Ÿã€‚
3. å¯ä»¥é€šè¿‡ç›‘å¬ `transitionend` ä»£æ›¿å®šæ—¶å™¨æ¥å®ç°å®¹å™¨åŠ¨ç”»ç»“æŸåå›å¤åˆ°åŸæœ¬æ ·å¼çš„æ•ˆæœã€‚
